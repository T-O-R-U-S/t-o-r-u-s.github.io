---
import Layout from "../layouts/Layout.astro";
import Carousel from "./carousel.svelte";
---
<style lang="scss">
    @import "../styles/variables.scss";

    :root {
		:has(#light:checked) {
			--text: #000;
			--background: #F6F6F6;
			--background-contrast: #FFF;
		}

		:has(#solarized:checked) {
			--text: #002b36;
			--background: #eee8d5;
			--background-contrast: #fdf6e3;
		}

		:has(#dark:checked) {
			--text: #fff;
			--background: #454545;
			--background-contrast: #000;
		}
    }

    $left-margin: 30px;

    h1, h2, h3, h4, h5, h6 {
        margin-left: $left-margin;
        max-width: 90vw;
    }

    p {
        margin-left: $left-margin;
        font-size: 10pt;
    }

    h1 {
        font-size: clamp(25pt, 140pt, 15vw);
    }

    h2 {
        font-size: clamp(20pt, 70pt, 10vw);
    }

    h3 {
        font-size: clamp(15pt, 50pt, 10vw);
    }

    h4 {
        font-size: clamp(10pt, 30pt, 10vw);
    }

    h5 {
        font-size: 10pt;
    }

    h6 {
        font-size: 5pt;
    }

    .gradient-fwd {
        background: linear-gradient(90deg, $accent-compliment, $accent);
        -webkit-background-clip: text;
        color: transparent;
    }

    .gradient-bwd {
        background: linear-gradient(90deg, $accent, $accent-compliment);
        -webkit-background-clip: text;
        color: transparent;
    }

    #theme-controls {
        position: fixed;

        top: 1rem;
        right: 1rem;

        background-color: rgba(#000000, 0.2);
        border-radius: 5rem;

        padding: 0.5rem;
        padding-left: 1rem;
        padding-right: 1rem;
    }

    header {
        --dot-spacing: 22px;

        height: 50vh;
        min-height: 40rem;

        background-color: var(--background-contrast);
        background-size: var(--dot-spacing) var(--dot-spacing);
        background-image: radial-gradient(gray 2%, transparent 11%);

        display: flex;
        flex-direction: column;

        justify-content: center;
        align-items: flex-start;
    }
</style>

<script>
    const theme_picker: NodeListOf<HTMLInputElement> = document.querySelectorAll('[name="theme"]');

    theme_picker.forEach(x => {
        x.addEventListener("click", () => {
            localStorage.setItem("theme", x.value)
        })
    })

    const theme_id = localStorage.getItem("theme") || "dark";

    const theme: HTMLInputElement = document.querySelector(`[id="${theme_id}"]`);

    theme.checked = true;
</script>

<Layout title="Mahmoud Moursy">
    <div id="theme-controls">
        <form>
            <input type="radio" name="theme" id="dark" value="dark" checked>
            <input type="radio" name="theme" id="solarized" value="solarized">
            <input type="radio" name="theme" id="light" value="light">
        </form>
    </div>

    <header>
        <div>
            <h1>Mahmoud <span class="gradient-fwd">Moursy</span>.</h1>
            <h2><span class="gradient-bwd">Backend Engineer</span></h2>
        </div>
    </header>

    <Carousel />

    <h3>OSS <span class="gradient-fwd">Contributions</span></h3>
</Layout>